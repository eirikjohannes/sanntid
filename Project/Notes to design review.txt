Notes to design review

Robustness/failsafe:
- Lagre ordre i ekstern filkø
- Hva skjer med unforeseen events (avsluttede tråder, strømbrudd, nettverksbrudd/krasj)
- Avsluttede/krasjede tråder:
	Eksternt program som overvåker programmet og restarter hvis krasj. Krasj av tråd skal dermed føre til krasj i program og dermed restart. Alle ordre er lagret i lokal fil og kan dermed fortsette der en slapp.

- Strømbrudd / nettverksbrudd:
	Mister kontakt med en heis, de andre heisene får ikke "alive" og dermed antar de at heisen er død og tar over dens eksterne ordre (redistribuerer). Den heisen som blir stående alene (ved nettverksbrudd) antar at de andre heisene er døde og utfører alle ordre.

- Hvis noen raserer heisen (kabelbrudd etc)
	Timeout på bevegelse, dersom den har stått i ro i én etasje for lenge så overtar noen andre eksterne ordre. Hvis heisen er på vei oppover, men beveger seg nedover så prøver vi å initialisere på nytt og hvis det ikke går, antar vi død heis og redistribuerer ordrene.

- Koble ut heis/ som nettverksbrudd

- Koble inn heis (ny peer på nettverk) : legg til ny heis ID og distribuer ordre på nytt. 

Networktopology
UDP med ekstra lag med acknowledgement
Fordeler: Meldinger kommer raskt frem og lett og håndtere. Samme meldingen skal gå til alle mottakerne.
Liste over peers

Ulempe: må implementere ACK.

TCP: ulemper: må opprette kontakt før du sender.

Module responsobilities
Netverksmodul prober nettverket og distribuerer etter behov
IO modul Jobber mot hardware med knappetrykk/leds etc.
state-machine


Kø system: 
Alle heisene regner ut den "beste heisen" for å løse ordren. ALle ordre på nettverket blir lagt til i alle køene, markert med hvilken heis som utfører ordren. Dersom en heis forsvinner fra nettverket vil man regne ut på nytt og finne ut hvilken heis som tar de gjenværende ordrene. Alle heiser assigner en ordreID. OrdreID: HeisNR, etasje, retning, intern/ekstern

Other design issues:
Alle er like og alle er "master" - alle må ha samme informasjon selvom ingen sørger for å fordele den. 


Weaknessesessssss
